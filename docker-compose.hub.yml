services:
  mock-ecu:
    image: robertsloan2023mit/mock-obd:latest
    container_name: mock-obd-ecu
    network_mode: host
    privileged: true
    command: python mock_ecu.py
    restart: unless-stopped

  test-client:
    image: robertsloan2023mit/mock-obd:latest
    container_name: mock-obd-client
    network_mode: host
    privileged: true
    command: python test_client.py
    depends_on:
      - mock-ecu
    profiles:
      - testing
